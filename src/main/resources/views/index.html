<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>主页</title>
    <link rel="icon" href="favicon.ico" mce_href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" mce_href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="element-ui/lib/theme-chalk/index.css">
    <!-- import Vue before Element -->
    <script src="vue/dist/vue.min.js"></script>
    <!-- import JavaScript -->
    <script src="element-ui/lib/index.js"></script>
    <!--<script src="js/customer/resource.js"></script>-->

    <style>
        * {
            margin: 0;
        }

        /*布局容器*/
        .el-header, .el-footer {
            background-color: #B3C0D1;
            color: #333;
            text-align: center;
            line-height: 60px;
        }

        .el-aside {
            background-color: #D3DCE6;
            color: #333;
            text-align: center;
            line-height: 200px;
        }

        .el-main {
            background-color: #E9EEF3;
            color: #333;
            text-align: center;
            line-height: 160px;
        }

        body > .el-container {
            margin-bottom: 40px;
        }

        .el-container:nth-child(5) .el-aside,
        .el-container:nth-child(6) .el-aside {
            line-height: 260px;
        }

        .el-container:nth-child(7) .el-aside {
            line-height: 320px;
        }

        .logout {
            text-decoration: none;
            color: black;
        }

        .logout:hover {
            text-decoration: underline;
            color: blue;
        }

        [v-cloak] {
            display: none;
        }
    </style>
</head>
<body>
<div id="main" v-cloak>
    <el-container>
        <!--头部导航栏-->
        <el-header style="float: right;">
            <el-form inline="block" size="small" style="text-align: right;margin-right: 15px;">
                <template v-if="username !== ''|| null">
                    <span style=";font-size: 15px">欢迎{{username}}&nbsp;&nbsp;</span>
                </template>
                <template v-else>
                    <a style=";font-size: 15px" href="#" @click="login">登录&nbsp;&nbsp;</a>
                </template>
                <a class="logout" href="#" @click="logout">退出</a>
            </el-form>
        </el-header>
        <el-container>
            <!--菜单栏-->
            <el-aside width="200px">
                <el-row class="tac">
                    <el-col :span="24">
                        <!--<h5>默认颜色</h5>-->
                        <el-menu
                                default-active="2"
                                class="el-menu-vertical-demo"
                                @open="handleOpen"
                                @close="handleClose">
                            <el-submenu index="1">
                                <template slot="title">
                                    <i class="el-icon-location"></i>
                                    <span>用户管理</span>
                                </template>
                                <el-menu-item-group>
                                    <template slot="title">分组</template>
                                    <el-menu-item index="1-1">选项1</el-menu-item>
                                    <el-menu-item index="1-2">选项2</el-menu-item>
                                </el-menu-item-group>
                                <el-menu-item-group title="分组2">
                                    <el-menu-item index="1-3">选项3</el-menu-item>
                                </el-menu-item-group>
                                <el-submenu index="1-4">
                                    <template slot="title">选项4</template>
                                    <el-menu-item index="1-4-1">选项1</el-menu-item>
                                </el-submenu>
                            </el-submenu>
                            <el-menu-item index="2">
                                <i class="el-icon-menu"></i>
                                <span slot="title">导航二</span>
                            </el-menu-item>
                            <el-menu-item index="3" disabled>
                                <i class="el-icon-document"></i>
                                <span slot="title">导航三</span>
                            </el-menu-item>
                            <el-menu-item index="4">
                                <i class="el-icon-setting"></i>
                                <span slot="title">导航四</span>
                            </el-menu-item>
                        </el-menu>
                    </el-col>
                </el-row>
            </el-aside>
            <!--主体内容-->
            <el-main>
                <iframe scrolling="yes" style="width:100%;min-height:200px;border: none;overflow:visible;background:#E9EEF3;height: 800px"
                        src="table"></iframe>
            </el-main>
        </el-container>
    </el-container>
</div>
<script>
    window.onload = function () {
        var vm = new Vue({
            el: '#main',
            data: {
                username: localStorage.getItem('username')
            },
            methods: {
                /**
                 * 注册登录
                 */
                login:function() {
                    location.href = "login.html";
                },

                logout:function() {
                    localStorage.removeItem("username");
                    location.href = 'logout'
                },

                /**
                 * 表单提交验证
                 */
                submitForm:function(formName) {
                    this.$refs[formName].validate((valid) => {
                        if (valid) {
                            vm.loginUser();
                        } else {
                            console.log('error submit!!');
                            return false;
                        }
                    });
                },
                resetForm:function(formName) {
                    this.$refs[formName].resetFields();
                },

                //提示窗
                open:function(message, type) {
                    this.$message({
                        showClose: true,
                        message: message,
                        type: type
                    });
                },


                /**
                 * 导航菜单
                 *
                 * @param key
                 * @param keyPath
                 */
                handleOpen:function(key, keyPath) {
                    console.log(key, keyPath);
                },
                handleClose:function(key, keyPath) {
                    console.log(key, keyPath);
                }

            }
        });
    }
</script>

<script src="js/index.js"></script>
</body>
</html>